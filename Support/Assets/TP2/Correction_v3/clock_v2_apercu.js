var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,b,d){$jscomp.initSymbolIterator();b=null!=b?b:function(a){return a};var c=[],f=a[Symbol.iterator];if("function"==typeof f)for(a=f.call(a);!(f=a.next()).done;)c.push(b.call(d,f.value));else for(var f=a.length,g=0;g<f;g++)c.push(b.call(d,a[g]));return c}},"es6-impl","es3");var intervalID=null;window.addEventListener("load",function(){afficheHeure();majHeure();remplirSelectsHeuresMinutes();abonnements()});
function abonnements(){document.getElementById("checkPause").addEventListener("click",majHeure);var a=document.getElementsByClassName("alarme");abonnerAlarmeElt(a[0]);document.getElementsByClassName("ajouter")[0].addEventListener("click",ajouterAlarme)}function format2chiffres(a){return 10>a?"0"+a:""+a}
function afficheHeure(){var a=new Date,c=a.getHours(),b=a.getMinutes(),a=a.getSeconds(),c=format2chiffres(c),b=format2chiffres(b),a=format2chiffres(a),c=c+":"+b+":"+a;document.getElementById("heure").textContent=c}function majHeure(){afficheHeure();document.getElementById("checkPause").checked?intervalID&&window.clearInterval(intervalID):intervalID=window.setInterval(afficheHeure,1E3)}
function remplirSelectsHeuresMinutes(){var a=document.getElementsByClassName("alarme")[0].getElementsByTagName("select");ajouterOptionsAuSelect(23,a[0]);ajouterOptionsAuSelect(59,a[1])}function ajouterOptionsAuSelect(a,c){for(var b,d=0;d<=a;d++)b=document.createElement("option"),b.textContent=10>d?"0"+d:d,c.appendChild(b)}
function abonnerAlarmeElt(a){a.getElementsByTagName("input")[0].addEventListener("click",enclencherAlarme);a.getElementsByTagName("button")[0].addEventListener("click",enleverAlarme)}
function enclencherAlarme(a){var c=a.target,b=c.checked;console.log(b);a=a.target.parentNode;var d=a.getElementsByTagName("input")[1],e=a.getElementsByTagName("select");a=e[0];e=e[1];if(b){var f=e.options[e.selectedIndex].text,b=new Date;b.setHours(a.options[a.selectedIndex].text);b.setMinutes(f);b.setSeconds(0);f=new Date;b<f&&b.setDate(b.getDate()+1);console.log(b.toString());b=setTimeout(function(){alert(d.value)},b-f);c.value=b;a.disabled=!0;e.disabled=!0;d.disabled=!0}else clearTimeout(c.value),
a.disabled=!1,e.disabled=!1,d.disabled=!1}function enleverAlarme(a){a=a.target.parentNode;console.log("On veut supprimer ce ",a);console.log("Il y a "+a.parentNode.children.length+" alarme(s)");if(1<a.parentNode.children.length){var c=a.getElementsByTagName("input")[0];clearTimeout(c.value);a.remove()}}
function ajouterAlarme(){console.log("Ajouter une nouvelle alarme");var a=document.getElementById("alarmes"),c=a.children[0].cloneNode();c.innerHTML=a.children[0].innerHTML;Array.from(c.children).forEach(function(a){a.disabled=!1});a.appendChild(c);abonnerAlarmeElt(c)};
